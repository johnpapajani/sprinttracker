{"ast":null,"code":"import _classCallCheck from \"/Users/johnpapajani/Downloads/standupleadtracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/johnpapajani/Downloads/standupleadtracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { RawTask } from './RawTask.js';\nexport var TaskFactory = /*#__PURE__*/function () {\n  function TaskFactory(onError) {\n    _classCallCheck(this, TaskFactory);\n    this.onError = onError;\n    this.freeTasks = [];\n  }\n  _createClass(TaskFactory, [{\n    key: \"create\",\n    value: function create(task) {\n      var tasks = this.freeTasks;\n      var t1 = tasks.length ? tasks.pop() : new RawTask(this.onError, function (t) {\n        return tasks[tasks.length] = t;\n      });\n      t1.task = task;\n      return t1;\n    }\n  }]);\n  return TaskFactory;\n}();","map":{"version":3,"sources":["../src/TaskFactory.ts"],"names":["RawTask","TaskFactory","freeTasks","onError","create","task","tasks","t","length","pop"],"mappings":";;AAAA,SAASA,OAAO,QAAQ,cAAc;AAGtC,WAAaC,WAAW;EAGvB,qBAA2BE,OAA2B,EAAE;IAAA;SAA7BA,OAA2B,GAA3BA,OAA2B;SAF9CD,SAAS,GAAc,EAAE;;EAEyB;IAAA;IAAA,OAEnDE,gBAAOC,IAAgB,EAAQ;MACrC,IAAMC,KAAK,GAAG,IAAI,CAACJ,SAAS;MAC5B,IAAMK,EAAC,GAAGD,KAAK,CAACE,MAAM,GAClBF,KAAK,CAACG,GAAG,EAAE,GACZ,IAAIT,OAAO,CAAC,IAAI,CAACG,OAAO,EAAE,UAACI,CAAC;QAAA,OAAMD,KAAK,CAACA,KAAK,CAACE,MAAM,CAAC,GAAGD,CAAC;MAAA,EAAE;MAC9DA,EAAC,CAACF,IAAI,GAAGA,IAAI;MACb,OAAOE,EAAC;;EACR;EAAA;AAAA","sourcesContent":["import { RawTask } from './RawTask.js'\nimport type { Task } from './types.js'\n\nexport class TaskFactory {\n\tprivate freeTasks: RawTask[] = []\n\n\tpublic constructor(private onError: (err: any) => void) {}\n\n\tpublic create(task: () => void): Task {\n\t\tconst tasks = this.freeTasks\n\t\tconst t = tasks.length\n\t\t\t? (tasks.pop() as RawTask)\n\t\t\t: new RawTask(this.onError, (t) => (tasks[tasks.length] = t))\n\t\tt.task = task\n\t\treturn t\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}