{"ast":null,"code":"import _regeneratorRuntime from \"/Users/johnpapajani/Downloads/standupleadtracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/johnpapajani/Downloads/standupleadtracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _toConsumableArray from \"/Users/johnpapajani/Downloads/standupleadtracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/Users/johnpapajani/Downloads/standupleadtracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/Users/johnpapajani/Downloads/standupleadtracker/src/components/CardList.js\",\n  _this = this,\n  _s = $RefreshSig$();\nimport update from \"immutability-helper\";\nimport { useCallback, useState, useEffect } from \"react\";\nimport { Card } from \"./Card.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar CardList = function CardList() {\n  _s();\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isMounted = _useState2[0],\n    setIsMounted = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    cards = _useState4[0],\n    setCards = _useState4[1];\n  var moveCard = useCallback(function (dragIndex, hoverIndex) {\n    setCards(function (prevCards) {\n      return update(prevCards, {\n        $splice: [[dragIndex, 1], [hoverIndex, 0, prevCards[dragIndex]]]\n      });\n    });\n    updateData(cards);\n  }, []);\n  var deleteCard = function deleteCard(id) {\n    var data = cards;\n    console.log(\"This is the data starting\");\n    console.log(data);\n    data = data.filter(function (card) {\n      return card.id !== id;\n    });\n    console.log(\"This is the data modified\");\n    console.log(data);\n    updateData(data);\n  };\n  var startSprint = function startSprint() {\n    var data = cards;\n    var tempCards = _toConsumableArray(data);\n    var tempItem = data.shift();\n    tempCards.push(tempItem);\n    updateData(tempCards);\n  };\n  var skipTurn = function skipTurn() {\n    setCards(function (prevCards) {\n      var tempCards = _toConsumableArray(prevCards);\n      var _ref = [tempCards[tempCards.length - 1], tempCards[0]];\n      tempCards[0] = _ref[0];\n      tempCards[tempCards.length - 1] = _ref[1];\n      return tempCards;\n    });\n  };\n  var renderCard = useCallback(function (card, index) {\n    return /*#__PURE__*/_jsxDEV(Card, {\n      index: index,\n      id: card.id,\n      text: card.name,\n      moveCard: moveCard,\n      deleteCard: deleteCard,\n      startSprint: startSprint\n    }, card.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, _this);\n  }, []);\n  var fetchData = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var response, data;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch('https://standup-6faab-default-rtdb.firebaseio.com/names/-NHPvxoiUcI8Nihhtz5P.json');\n            case 2:\n              response = _context.sent;\n              _context.next = 5;\n              return response.json();\n            case 5:\n              data = _context.sent;\n              console.log(\"Data from api fetch\");\n              console.log(data);\n              _context.next = 10;\n              return setCards(data);\n            case 10:\n              console.log(\"This is the cards\");\n              console.log(cards);\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return function fetchData() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var test44 = [{\n    \"id\": 0,\n    \"name\": \"John\"\n  }];\n  var updateData = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(data) {\n      var response;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              console.log(\"This is the data coming in\");\n              console.log(data);\n              _context2.next = 4;\n              return fetch('https://standup-6faab-default-rtdb.firebaseio.com/names/-NHPvxoiUcI8Nihhtz5P.json', {\n                method: 'PUT',\n                body: JSON.stringify(data),\n                headers: {\n                  'Content-Type': 'application/json'\n                }\n              });\n            case 4:\n              response = _context2.sent;\n              _context2.next = 7;\n              return fetchData();\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return function updateData(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var postData = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n      var response;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              console.log(\"This is the data coming in\");\n              console.log(data);\n              _context3.next = 4;\n              return fetch('https://standup-6faab-default-rtdb.firebaseio.com/names.json', {\n                method: 'POST',\n                body: JSON.stringify([{\n                  \"id\": 0,\n                  \"name\": \"John\"\n                }]),\n                headers: {\n                  'Content-Type': 'application/json'\n                }\n              });\n            case 4:\n              response = _context3.sent;\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    return function postData() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    postData();\n  }, []);\n  var submitHandler = function submitHandler(event) {\n    event.preventDefault();\n    var data = cards;\n    var id = 1;\n    if (data.length > 0) {\n      id = data[data.length - 1].id;\n    }\n    data = [].concat(_toConsumableArray(data), [{\n      \"id\": id + 1,\n      \"name\": event.target.firstName.value\n    }]);\n    console.log(\"TEST1\");\n    console.log(data);\n    console.log(\"TEST2\");\n    updateData(data);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Sprint lead tracker\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }, _this), cards && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"NameList\",\n      children: cards.map(function (card, i) {\n        return renderCard(card, i);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }, _this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Add new name:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"firstName\",\n        name: \"firstName\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 7\n  }, _this);\n};\n_s(CardList, \"XTlnjghsskiLUobP8YTBAWUvB5Q=\");\n_c = CardList;\nexport default CardList;\nvar _c;\n$RefreshReg$(_c, \"CardList\");","map":{"version":3,"names":["update","useCallback","useState","useEffect","Card","CardList","isMounted","setIsMounted","cards","setCards","moveCard","dragIndex","hoverIndex","prevCards","$splice","updateData","deleteCard","id","data","console","log","filter","card","startSprint","tempCards","tempItem","shift","push","skipTurn","length","renderCard","index","name","fetchData","fetch","response","json","test44","method","body","JSON","stringify","headers","postData","submitHandler","event","preventDefault","target","firstName","value","map","i"],"sources":["/Users/johnpapajani/Downloads/standupleadtracker/src/components/CardList.js"],"sourcesContent":["import update from \"immutability-helper\";\nimport { useCallback, useState, useEffect } from \"react\";\nimport { Card } from \"./Card.js\";\n\nconst CardList = () => \n  {\n    const [isMounted, setIsMounted] = useState(false)\n    const [cards, setCards] = useState([]);\n    \n    const moveCard = useCallback((dragIndex, hoverIndex) => {\n      setCards((prevCards) =>\n        update(prevCards, {\n          $splice: [\n            [dragIndex, 1],\n            [hoverIndex, 0, prevCards[dragIndex]]\n          ]\n        })\n      );\n      updateData(cards)\n      \n    }, []);\n\n    const deleteCard = (id) =>{\n      let data = cards  \n      console.log(\"This is the data starting\")\n      console.log(data)\n      data = data.filter(card => card.id !== id)\n      console.log(\"This is the data modified\")\n      console.log(data)\n      updateData(data)\n      \n    }\n\n    const startSprint = () =>{\n      let data = cards  \n      \n        let tempCards = [...data];\n        let tempItem = data.shift()\n        tempCards.push(tempItem)\n\n        updateData(tempCards)\n        \n      \n    }\n\n    const skipTurn = () =>{\n      setCards((prevCards) => {\n        let tempCards = [...prevCards];\n        [tempCards[0], tempCards[tempCards.length - 1]] = [tempCards[tempCards.length - 1], tempCards[0]];\n\n          return tempCards;\n        \n      });\n      \n    }\n\n    const renderCard = useCallback((card, index) => {\n      return (\n        <Card\n        key={card.id}\n        index={index}\n        id={card.id}\n        text={card.name}\n        moveCard={moveCard}\n        deleteCard={deleteCard}\n        startSprint={startSprint}\n\n        />\n      );\n    }, []);\n\n    const fetchData = async () => {\n      const response = await  fetch('https://standup-6faab-default-rtdb.firebaseio.com/names/-NHPvxoiUcI8Nihhtz5P.json');\n      \n        const data = await response.json();\n        console.log(\"Data from api fetch\")\n        console.log(data)\n        await setCards(data)\n      console.log(\"This is the cards\")\n      console.log(cards)\n    }\n\n    let test44 = [{\"id\":0, \"name\":\"John\"}]\n    \n    const updateData = async (data) =>{\n      console.log(\"This is the data coming in\")\n      console.log(data)\n      const response = await  fetch('https://standup-6faab-default-rtdb.firebaseio.com/names/-NHPvxoiUcI8Nihhtz5P.json', {\n        method: 'PUT',\n        body: JSON.stringify(data),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      \n        await fetchData()\n      \n      \n    }\n\n    const postData = async () =>{\n      console.log(\"This is the data coming in\")\n      console.log(data)\n      const response = await  fetch('https://standup-6faab-default-rtdb.firebaseio.com/names.json', {\n        method: 'POST',\n        body: JSON.stringify([{\"id\":0, \"name\":\"John\"}]),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      \n      \n      \n    }\n    \n\n\n\n    useEffect(() => {\n  \n      postData()\n      \n      },[]);\n\n\n    const submitHandler = (event) =>{\n      event.preventDefault()\n      let data = cards  \n      let id = 1\n      if (data.length>0){\n        id=data[data.length - 1].id\n      }\n      data = [...data, {\"id\":id+1,\"name\":event.target.firstName.value}]\n      console.log(\"TEST1\")\n      console.log(data)\n      console.log(\"TEST2\")\n\n      updateData(data)\n    }\n\n    \n\n    return (\n      <div>\n        <h1>Sprint lead tracker</h1>\n        {cards&&<div className=\"NameList\">{cards.map((card, i) => renderCard(card, i))}</div>}\n        <form onSubmit={submitHandler}>\n        <label>Add new name:</label>\n        <input id=\"firstName\" name=\"firstName\"\n      />\n        \n        <div>\n          <button type=\"submit\">\n            Add\n          </button>\n        </div>\n      </form>\n      </div>\n    );\n  }\n\n\nexport default CardList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}